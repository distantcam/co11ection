<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Simply your thoughts."><meta name="generator" content="Eleventy"><link rel="apple-touch-icon" sizes="180x180" href="/co11ection/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/co11ection/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/co11ection/favicon-16x16.png"><link rel="manifest" href="/co11ection/site.webmanifest"><title>Webhooks</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Lora&family=Open+Sans&display=swap" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"><link rel="stylesheet" href="/co11ection/site.css"><script defer="defer" src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script></head><body class="font-sans text-sm font-light text-gray-800 bg-gray-100 lg:text-lg sm:text-base dark:bg-gray-800 dark:text-gray-200 md:grid md:grid-cols-2 md:gap-4"><main class="p-4 mx-auto prose-sm prose sm:p-8 xl:py-16 xl:pr-16 sm:prose-base dark:prose-invert lg:prose-lg md:col-start-2 md:m-0 md:pl-0"><h1>Webhooks</h1><p><img src="https://photos.collectednotes.com/photos/14/b63c73fd-38ef-4027-98c0-053a24e11534" alt="Webhooks"> Webhooks allow external services to be notified when certain events happen. When the specified events happen, we’ll send a <strong>POST</strong> request to the URL you configure in your site settings.</p><h2>Configure your Webhook</h2><p>First, go to your site settings and add the URL where you want us to post the events. All URLs should be using <strong>HTTPS</strong>.</p><h2>Receiving events</h2><p>Events are sent as JSON payloads with an additional params so you don't have to parse the payload every time. The kind of events that your webhook URL will receive are:</p><ul><li><code>note-updated</code></li></ul><pre><code class="language-json">{&quot;event&quot;:&quot;note-updated&quot;,&quot;data&quot;:{&quot;note&quot;:&quot;&lt;NOTE as JSON&gt;&quot;}}
</code></pre><ul><li><code>note-created</code></li></ul><pre><code class="language-json">{&quot;event&quot;:&quot;note-created&quot;,&quot;data&quot;:{&quot;note&quot;:&quot;&lt;NOTE as JSON&gt;&quot;}}
</code></pre><ul><li><code>note-deleted</code></li></ul><pre><code class="language-json">{&quot;event&quot;:&quot;note-deleted&quot;,&quot;data&quot;:{&quot;note&quot;:&quot;&lt;NOTE as JSON&gt;&quot;}}
</code></pre><ul><li><code>notes-reordered</code></li></ul><pre><code class="language-json">{&quot;event&quot;:&quot;notes-reordered&quot;,&quot;data&quot;:{&quot;notes&quot;:[&quot;&lt;NOTE as JSON&gt;&quot;, ...]}}
</code></pre><blockquote><h6>Parsing events</h6></blockquote><p>We also send an extra <code>event</code> param to the URL so you don't have to parse the JSON to see what kind of event you got. For example when receiving a <code>note-updated</code> event the url we will call would look like this: <code>https://your-url/webhook?event=note-updated</code>.</p><h4>Sample event payload</h4><p>Here's a sample of what you can expect to receive as the JSON payload for a webhook event when updating a note <code>note-updated</code>:</p><pre><code class="language-json">{
  &quot;event&quot;: &quot;note-updated&quot;,
  &quot;data&quot;: {
    &quot;note&quot;: {
      &quot;id&quot;: 1,
      &quot;site_id&quot;: 1,
      &quot;user_id&quot;: 1,
      &quot;body&quot;: &quot;# some text&quot;,
      &quot;path&quot;: &quot;some-path&quot;,
      &quot;headline&quot;: &quot;&quot;,
      &quot;title&quot;: &quot;some text&quot;,
      &quot;created_at&quot;: &quot;2020-07-07T01:34:01.156Z&quot;,
      &quot;updated_at&quot;: &quot;2020-07-09T15:40:34.185Z&quot;,
      &quot;visibility&quot;: &quot;private&quot;,
      &quot;poster&quot;: null,
      &quot;ordering&quot;: 0,
      &quot;url&quot;: &quot;scheme://some-url/some-path&quot;
    }
  }
}
</code></pre><hr><h6>Notice</h6><ul><li>Webhooks are “best effort”. Don't rely on every webhook to be called for anything critical.</li><li>There might be a bit of delay between events happening and your URL being called.</li></ul><hr><h3>API</h3><p>Check out what's possible with the REST API <a href="https://collectednotes.com/blog/api">here</a></p></main><aside class="w-full p-4 mx-auto sm:p-8 max-w-prose xl:py-32 xl:pl-32 md:box-border md:sticky md:top-0 md:flex md:justify-between md:flex-col md:h-screen md:col-start-1 md:row-start-1 md:m-0 md:ml-auto md:py-16 md:pl-16 md:pr-0"><nav x-data="loadPage()"><h1 class="text-lg font-bold">Notes</h1><ul class="my-4"><template x-for="note in pageNotes" :key="note.id"><li><a class="hover:underline" :href="note.link" x-text="note.title"></a></li></template></ul><div><button class="mr-2" :class="{ 'font-semibold underline' : pageNumber > 0 }" :disabled="pageNumber <= 0" x-on:click="prevPage">Back</button> <button :class="{ 'font-semibold underline' : pageNumber < pageCount }" :disabled="pageNumber >= pageCount" x-on:click="nextPage">More</button></div></nav><footer class="mt-4"><ul><li><a class="hover:underline" href="https://github.com/distantcam/co11ection/">github</a></li><li><a class="hover:underline" href="https://collectednotes.com/">colllected notes</a></li><li><a class="hover:underline" href="https://www.11ty.dev/">eleventy</a></li></ul></footer></aside><script>var notes = [
      {
        id: '0',
        link: '/co11ection/code-of-conduct',
        title: 'Code of Conduct',
      },
      {
        id: '1',
        link: '/co11ection/zettelkasten',
        title: 'Rethinking the bi-directional linking mobile interface',
      },
      {
        id: '2',
        link: '/co11ection/zapier',
        title: 'Zapier',
      },
      {
        id: '3',
        link: '/co11ection/new-format-toolbar',
        title: 'New format toolbar',
      },
      {
        id: '4',
        link: '/co11ection/static-websites',
        title: 'Static Websites',
      },
      {
        id: '5',
        link: '/co11ection/initial-support-for-front-matter',
        title: 'Initial support for front matter',
      },
      {
        id: '6',
        link: '/co11ection/webhooks',
        title: 'Webhooks',
      },
      {
        id: '7',
        link: '/co11ection/reorder-your-notes',
        title: 'Reorder your notes',
      },
      {
        id: '8',
        link: '/co11ection/1-3',
        title: '1.3',
      },
      {
        id: '9',
        link: '/co11ection/interesting-cool-projects',
        title: 'Interesting &amp; cool projects',
      },
      {
        id: '10',
        link: '/co11ection/changelog',
        title: 'Changelog',
      },
      {
        id: '11',
        link: '/co11ection/you-can-now-upload-images-on-web',
        title: 'You can now upload images on web',
      },
      {
        id: '12',
        link: '/co11ection/support-for-tweets',
        title: 'Support for Tweets',
      },
      {
        id: '13',
        link: '/co11ection/custom-domain-names',
        title: 'Custom domain names',
      },
      {
        id: '14',
        link: '/co11ection/todo-list',
        title: 'Todo list',
      },
      {
        id: '15',
        link: '/co11ection/you-can-publish-your-notes-as-tweets-automatically',
        title: 'You can publish your notes as tweets  automatically',
      },
      {
        id: '16',
        link: '/co11ection/support-for-youtube',
        title: 'Support for YouTube',
      },
      {
        id: '17',
        link: '/co11ection/improving-sharing-on-social-media',
        title: 'Improving sharing on social media',
      },
      {
        id: '18',
        link: '/co11ection/support-for-pencil-kit',
        title: 'Support for Pencil Kit!',
      },
      {
        id: '19',
        link: '/co11ection/product-hunt',
        title: 'Product Hunt',
      },
      ];
      function loadPage()
      {
        return {
          pageNumber: 1,
          size: 5,
          pageCount: 4,
          notes: notes,

          get pageNotes() {
            const start = this.pageNumber * this.size;
            const end = start + this.size;

            return this.notes.slice(start, end);
          },

          nextPage() {
            this.pageNumber++;
          },

          prevPage() {
            this.pageNumber--;
          },
        };
      }</script></body></html>